/*! UIkit 3.6.17 | https://www.getuikit.com | (c) 2014 - 2021 YOOtheme | MIT License */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],n):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitFilter=n(t.UIkit.util)}(this,function(p){"use strict";function n(t){return function(t,n,e){for(var i=[[]],r=0;r<t.length;r++){var o=t[r];if(p.isVisible(o))for(var a=f(o),s=i.length-1;0<=s;s--){var u=i[s];if(!u[0]){u.push(o);break}var c=void 0;if(c=u[0].offsetParent===o.offsetParent?f(u[0]):(a=f(o,!0),f(u[0],!0)),a[n]>=c[e]-1&&a[n]!==c[n]){i.push([o]);break}if(a[e]-1>c[n]||a[n]===c[n]){u.push(o);break}if(0===s){i.unshift([o]);break}}}return i}(t,"top","bottom")}function f(t,n){void 0===n&&(n=!1);var e=t.offsetTop,i=t.offsetLeft,r=t.offsetHeight,o=t.offsetWidth;return n&&(e=(t=p.offsetPosition(t))[0],i=t[1]),{top:e,left:i,bottom:e+r,right:i+o}}var i="uk-transition-leave",d="uk-transition-enter";function r(t,a,s,u){void 0===u&&(u=0);var c=h(a,!0),f={opacity:1},l={opacity:0},n=function(t){return function(){return c===h(a)?t():p.Promise.reject()}},e=n(function(){return p.addClass(a,i),p.Promise.all(m(a).map(function(n,e){return new p.Promise(function(t){return setTimeout(function(){return p.Transition.start(n,l,s/2,"ease").then(t)},e*u)})})).then(function(){return p.removeClass(a,i)})}),n=n(function(){var o=p.height(a);return p.addClass(a,d),t(),p.css(p.children(a),{opacity:0}),new p.Promise(function(r){return requestAnimationFrame(function(){var t=p.children(a),n=p.height(a);p.css(a,"alignContent","flex-start"),p.height(a,o);var e=m(a);p.css(t,l);var i=e.map(function(n,e){return new p.Promise(function(t){return setTimeout(function(){return p.Transition.start(n,f,s/2,"ease").then(t)},e*u)})});o!==n&&i.push(p.Transition.start(a,{height:n},s/2+e.length*u,"ease")),p.Promise.all(i).then(function(){p.removeClass(a,d),c===h(a)&&(p.css(a,{height:"",alignContent:""}),p.css(t,{opacity:""}),delete a.dataset.transition),r()})})})});return(p.hasClass(a,i)?o(a):p.hasClass(a,d)?o(a).then(e):e()).then(n)}function h(t,n){return n&&(t.dataset.transition=1+h(t)),p.toNumber(t.dataset.transition)||0}function o(t){return p.Promise.all(p.children(t).filter(p.Transition.inProgress).map(function(n){return new p.Promise(function(t){return p.once(n,"transitionend transitioncanceled",t)})}))}function m(t){return n(p.children(t)).reduce(function(t,n){return t.concat(p.sortBy(n.filter(function(t){return p.isInView(t)}),"offsetLeft"))},[])}function a(t,d,h){return new p.Promise(function(l){return requestAnimationFrame(function(){var u=p.children(d),c=u.map(function(t){return g(t,!0)}),f=p.css(d,["height","padding"]);p.Transition.cancel(d),u.forEach(p.Transition.cancel),v(d),t(),u=u.concat(p.children(d).filter(function(t){return!p.includes(u,t)})),p.Promise.resolve().then(function(){p.fastdom.flush();var e,i,r,t,n,o=p.css(d,["height","padding"]),n=(e=d,r=c,t=(i=u).map(function(t,n){return!!(p.parent(t)&&n in r)&&(r[n]?p.isVisible(t)?y(t):{opacity:0}:{opacity:p.isVisible(t)?1:0})}),n=t.map(function(t,n){n=p.parent(i[n])===e&&(r[n]||g(i[n]));return!!n&&(t?"opacity"in t||(n.opacity%1?t.opacity=1:delete n.opacity):delete n.opacity,n)}),[t,n]),a=n[0],s=n[1];u.forEach(function(t,n){return s[n]&&p.css(t,s[n])}),p.css(d,p.assign({display:"block"},f)),requestAnimationFrame(function(){var t=u.map(function(t,n){return p.parent(t)===d&&p.Transition.start(t,a[n],h,"ease")}).concat(p.Transition.start(d,o,h,"ease"));p.Promise.all(t).then(function(){u.forEach(function(t,n){return p.parent(t)===d&&p.css(t,"display",0===a[n].opacity?"none":"")}),v(d)},p.noop).then(l)})})})})}function g(t,n){var e=p.css(t,"zIndex");return!!p.isVisible(t)&&p.assign({display:"",opacity:n?p.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===e?p.index(t):e},y(t))}function v(t){p.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",marginTop:"",marginLeft:"",transform:"",width:"",zIndex:""}),p.css(t,{height:"",display:"",padding:""})}function y(t){var n=p.offset(t),e=n.height,i=n.width,r=p.position(t),n=r.top,r=r.left,t=p.css(t,["marginTop","marginLeft"]);return{top:n,left:r,height:e,width:i,marginLeft:t.marginLeft,marginTop:t.marginTop,transform:""}}var t={mixins:[{props:{duration:Number,animation:String},data:{duration:150,animation:"slide"},methods:{animate:function(t,n){var e=this;void 0===n&&(n=this.$el);var i=this.animation;return("fade"===i?r:"delayed-fade"===i?function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return r.apply(void 0,t.concat([40]))}:a)(t,n,this.duration).then(function(){return e.$update(n,"resize")},p.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",duration:250},computed:{toggles:{get:function(t,n){t=t.attrItem;return p.$$("["+t+"],[data-"+t+"]",n)},watch:function(){var n,e=this;this.updateState(),!1!==this.selActive&&(n=p.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return p.toggleClass(t,e.cls,p.includes(n,t))}))},immediate:!0},children:{get:function(t,n){t=t.target;return p.$$(t+" > *",n)},watch:function(t,n){var e;e=n,(t=t).length===e.length&&t.every(function(t){return~e.indexOf(t)})||this.updateState()}}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply:function(t){var n,e,i=this.getState(),t=u(t,this.attrItem,this.getState());n=i,e=t,["filter","sort"].every(function(t){return p.isEqual(n[t],e[t])})||this.setState(t)},getState:function(){var e=this;return this.toggles.filter(function(t){return p.hasClass(t,e.cls)}).reduce(function(t,n){return u(n,e.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(e,i){var r=this;void 0===i&&(i=!0),e=p.assign({filter:{"":""},sort:[]},e),p.trigger(this.$el,"beforeFilter",[this,e]),this.toggles.forEach(function(t){return p.toggleClass(t,r.cls,!!function(t,n,e){var i=e.filter;void 0===i&&(i={"":""});var r=e.sort,o=r[0],a=r[1],e=s(t,n),r=e.filter;void 0===r&&(r="");t=e.group;void 0===t&&(t="");n=e.sort,e=e.order;void 0===e&&(e="asc");return p.isUndefined(n)?t in i&&r===i[t]||!r&&t&&!(t in i)&&!i[""]:o===n&&a===e}(t,r.attrItem,e))}),p.Promise.all(p.$$(this.target,this.$el).map(function(t){function n(){!function(t,n,e){var i=function(t){var t=t.filter,n="";return p.each(t,function(t){return n+=t||""}),n}(t);e.forEach(function(t){return p.css(t,"display",i&&!p.matches(t,i)?"none":"")});var t=(r=t.sort)[0],r=r[1];t&&(r=function(t,e,i){return p.assign([],t).sort(function(t,n){return p.data(t,e).localeCompare(p.data(n,e),void 0,{numeric:!0})*("asc"===i||-1)})}(e,t,r),p.isEqual(r,e)||p.append(n,r))}(e,t,p.children(t)),r.$update(r.$el)}return i?r.animate(n,t):n()})).then(function(){return p.trigger(r.$el,"afterFilter",[r])})},updateState:function(){var t=this;p.fastdom.write(function(){return t.setState(t.getState(),!1)})}}};function s(t,n){return p.parseOptions(p.data(t,n),["filter"])}function u(t,n,e){var i=s(t,n),r=i.filter,t=i.group,n=i.sort,i=i.order;return void 0===i&&(i="asc"),(r||p.isUndefined(n))&&(t?r?(delete e.filter[""],e.filter[t]=r):(delete e.filter[t],(p.isEmpty(e.filter)||""in e.filter)&&(e.filter={"":r||""})):e.filter={"":r||""}),p.isUndefined(n)||(e.sort=[n,i]),e}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});